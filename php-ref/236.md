# PHP tempnam() 函数



## 定义和用法

tempnam() 函数创建一个具有唯一文件名的临时文件。

若成功，则该函数返回新的临时文件名。若失败，则返回 false。

### 语法

```
tempnam(dir,prefix)
```

| 参数 | 描述 |
| --- | --- |
| dir | 必需。规定创建临时文件的目录。 |
| prefix | 必需。规定文件名的开头。 |

### 说明

在指定目录中建立一个具有唯一文件名的文件。如果该目录不存在，tempnam() 会在系统临时目录中生成一个文件，并返回其文件名。

在 PHP 4.0.6 之前，tempnam() 函数的行为取决于系统。在 Windows 下 TMP 环境变量会越过 dir 参数，在 Linux 下 TMPDIR 环境变量优先，而在 SVR4 下总是使用 dir 参数，如果其指向的目录存在的话。

## 提示和注释

注释：如果 PHP 不能在指定的 _dir_ 参数中创建文件，则退回到系统默认值。

注释：本函数的行为在 4.0.3 版中改变了。也会建立一个临时文件以避免竞争情形，即有可能会在产生出作为文件名的字符串与脚本真正建立该文件之间会在文件系统中存在同名文件。注意，如果不再需要该文件则要删除此文件，不会自动删除的。

提示：参见 [tmpfile()](/php/func_filesystem_tmpfile.asp "PHP tmpfile() 函数")

## 例子

```
<?php
echo tempnam("C:\inetpub\testweb","TMP0");
?> 
```

输出：

```
C:\inetpub\testweb\TMP1.tmp
```



